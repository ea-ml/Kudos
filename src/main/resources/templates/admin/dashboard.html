<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Admin Dashboard - Kudos</title>
    <link href="/css/output.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://unpkg.com/alpinejs" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/js/pagination.js" defer></script>
    <script src="/js/admin-globals.js"></script>
    <script src="/js/admin-dashboard.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
</head>
<body class="bg-gray-100" 
    x-data="{ 
        showModal: false, 
        showEditModal: false, 
        showTeamModal: false,
        showEditTeamModal: false,
        showSearchResults: false,
        filteredEmployees: [],
        selectedMembers: [],
        editSelectedMembers: [],
        allEmployees: [] 
    }" 
        @show-employee-modal.window="showModal = true" 
        @hide-employee-modal.window="showModal = false"
        @show-edit-employee-modal.window="showEditModal = true" 
        @hide-edit-employee-modal.window="showEditModal = false"
        @show-team-modal.window="showTeamModal = true" 
        @hide-team-modal.window="showTeamModal = false"
        @show-edit-team-modal.window="showEditTeamModal = true" 
        @hide-edit-team-modal.window="showEditTeamModal = false">
    <div class="min-h-screen">
        <!-- Navigation -->
        <div th:replace="~{admin/fragments/navigation}"></div>

        <!-- Main Content -->
        <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <!-- Flash Messages -->
            <div th:replace="~{admin/fragments/flash-messages}"></div>

            <!-- Employee Management Section -->
            <div th:replace="~{admin/fragments/employee-management}"></div>

            <!-- Employee Modal for Adding -->
            <div th:replace="~{admin/fragments/add-employee-modal}"></div>

            <!-- Employee Modal for Editing -->
            <div th:replace="~{admin/fragments/edit-employee-modal}"></div>

            <!-- Team Management Section -->
            <div th:replace="~{admin/fragments/team-management}"></div>

            <!-- Add Team Modal -->
            <div th:replace="~{admin/fragments/add-team-modal}"></div>

            <!-- Edit Team Modal -->
            <div th:replace="~{admin/fragments/edit-team-modal}"></div>

            <!-- Kudos Management Section -->
            <div th:replace="~{admin/fragments/kudos-management}"></div>
        </div>
    </div>
</body>
</html> 